# yaml-language-server: $schema=https://schema.infrahub.app/infrahub/schema/latest.json
---
version: "1.0"
nodes:
  - name: Room
    label: "Room"
    icon: "mdi:dns"
    namespace: Location
    description: "Room in a specific site"
    inherit_from:
      - "LocationGeneric"
    menu_placement: "LocationGeneric"
    default_filter: "name__value"
    order_by:
      - "site__name__value"
      - "name__value"
    display_labels:
      - "name__value"
    children: "LocationRack"
    parent: "LocationSite"
    uniqueness_constraints:
      - ["site", "name__value"]
    human_friendly_id: ["site__name__value", "name__value"]
    attributes:
      - name: status
        kind: Dropdown
        choices:
          - name: active
            label: Active
            description: "Functional and ready for production"
            color: "#009933"
          - name: planned
            label: Planned
            description: "Not physically present yet"
            color: "#cc66ff"
        default_value: "active"
    relationships:
      - name: site
        peer: LocationSite
        optional: false
        cardinality: one
        kind: Attribute
      - name: tags
        peer: BuiltinTag
        optional: true
        cardinality: many
        kind: Attribute
